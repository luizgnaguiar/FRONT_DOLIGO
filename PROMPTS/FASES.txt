
# üß≠ Roadmap Front-end Doligo (SPA / CSR)

> Este roadmap √© **estrat√©gico + t√©cnico**, pensado para ERP/CRM orientado 
a API Go (Clean Architecture), com crescimento incremental por dom√≠nio.

---

## üîπ FASE 0 ‚Äî Alinhamento & Prepara√ß√£o (Funda√ß√£o)

**Objetivo:** garantir que o projeto come√ßa sem ambiguidade t√©cnica.

### Entregas

* Valida√ß√£o final da **arquitetura SPA (CSR)**
* Confirma√ß√£o da stack obrigat√≥ria:

  * React + TypeScript (strict)
  * Vite
  * TanStack Query
  * React Hook Form + Zod
* Defini√ß√£o expl√≠cita do **escopo do front**:

  * consumidor puro de API
  * nenhuma regra de neg√≥cio cr√≠tica no cliente
* Defini√ß√£o do **roadmap por fases** (este documento)

### N√£o inclui

* C√≥digo
* Reposit√≥rio
* Setup de ferramentas

---

## üîπ FASE 1 ‚Äî Bootstrap do Reposit√≥rio

**Objetivo:** criar a base t√©cnica est√°vel do projeto.

### Entregas

* Cria√ß√£o do reposit√≥rio front-end
* Configura√ß√£o de:

  * Vite + React
  * TypeScript strict
  * ESLint + Formatter
* Estrutura de pastas **contratual**:

  ```
  /src
    /app
    /modules
    /api
    /state
    /shared
    /styles
    /assets
  ```
* Configura√ß√£o de alias de imports
* Build de produ√ß√£o funcional (crit√©rio FA-01)

### N√£o inclui

* Telas
* API client
* Autentica√ß√£o

---

## üîπ FASE 2 ‚Äî Camada de API & Contratos

**Objetivo:** estabelecer a comunica√ß√£o segura e padronizada com o backend.

### Entregas

* Client HTTP √∫nico
* Interceptors obrigat√≥rios:

  * JWT (Authorization Bearer)
  * 401 ‚Üí logout global
  * 403 ‚Üí fallback de permiss√£o
  * 429 / 5xx ‚Üí retry com backoff
* Timeout global com AbortController
* Estrutura de DTOs espelhados do backend
* Zod schemas correspondentes aos DTOs
* ErrorMap central (ErrorCode ‚Üí UI)

### N√£o inclui

* Queries
* UI
* Fluxos funcionais

---

## üîπ FASE 3 ‚Äî Estado, Sess√£o & Seguran√ßa

**Objetivo:** garantir controle de acesso e estado previs√≠vel.

### Entregas

* Integra√ß√£o do TanStack Query:

  * cache por endpoint
  * invalida√ß√£o por dom√≠nio
* Estado global **m√≠nimo**:

  * sess√£o
  * prefer√™ncias globais
  * feature flags
* Guards de rotas privadas
* RBAC baseado em claims (somente UX)
* Pol√≠tica de storage de JWT (memory preferencial)

### N√£o inclui

* Dom√≠nios de neg√≥cio
* Formul√°rios complexos

---

## üîπ FASE 4 ‚Äî Design System & Infra de UI

**Objetivo:** padronizar experi√™ncia visual e acessibilidade.

### Entregas

* Tokens globais:

  * cores
  * tipografia
  * espa√ßamento
* Layout base responsivo
* Componentes reutiliz√°veis em `/shared`
* Skeletons e loading states padronizados
* Error Boundary global

### N√£o inclui

* Telas finais de dom√≠nio
* Integra√ß√µes reais com API

---

## üîπ FASE 5 ‚Äî Dom√≠nio: Auth + Shell do Sistema

**Objetivo:** permitir acesso real ao sistema.

### Entregas

* Tela de Login
* Fluxo de autentica√ß√£o completo
* Prote√ß√£o de rotas privadas
* Layout principal (header / navega√ß√£o)
* Logout global

### N√£o inclui

* Dom√≠nios ERP
* CRUDs

---

## üîπ FASE 6 ‚Äî Dom√≠nios Core (Incremental)

**Objetivo:** implementar funcionalidades reais do ERP.

### Ordem sugerida

1. **Invoice**
2. **Stock**
3. **BOM**
4. **CRM**

### Para cada dom√≠nio

* Estrutura isolada em `/modules/<dominio>`
* Queries e mutations com TanStack Query
* Forms com React Hook Form + Zod
* Tabelas:

  * pagina√ß√£o server-driven
  * virtualiza√ß√£o obrigat√≥ria
* Tratamento de erros via ErrorMap

---

## üîπ FASE 7 ‚Äî Jobs Ass√≠ncronos & PDFs

**Objetivo:** lidar com fluxos longos e ass√≠ncronos.

### Entregas

* Polling de status:

  * PDFs
  * jobs ass√≠ncronos
* Cancelamento via AbortController
* Feedback visual de progresso

---

## üîπ FASE 8 ‚Äî Performance & UX Avan√ßado

**Objetivo:** garantir fluidez em escala ERP.

### Entregas

* Code splitting por rota
* Lazy loading de m√≥dulos pesados
* Suspense controlado
* Valida√ß√£o de scroll fluido em grandes tabelas

---

## üîπ FASE 9 ‚Äî Testes & Qualidade

**Objetivo:** reduzir risco operacional.

### Entregas

* Testes unit√°rios:

  * utils
  * validators
* Testes de componentes cr√≠ticos
* E2E:

  * Login
  * Invoice
  * Stock

---

## üîπ FASE 10 ‚Äî Build, Hardening & Deploy

**Objetivo:** colocar o sistema em produ√ß√£o com seguran√ßa.

### Entregas

* Build final validado
* Auditoria dos crit√©rios FA-01 a FA-06
* Vari√°veis de ambiente
* Deploy em ambiente produtivo
* Smoke tests p√≥s-deploy

---

