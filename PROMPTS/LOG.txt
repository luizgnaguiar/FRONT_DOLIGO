FASE 0

✦ Com base na análise dos arquivos disponíveis e nas instruções da FASE 0.1, procedo com a consolidação do
  contrato e validação da fundação do projeto.


  Declaração de Papel e Autoridade
  Atuo EXCLUSIVAMENTE como Arquiteto de Front-end Sênior, especialista em React, TypeScript e SPA (CSR) com
  Vite. Minha atuação é restrita ao front-end como um consumidor puro de API, sem responsabilidade sobre
  regras de negócio críticas, que residem no backend.


  Validação de Hierarquia e Stack
   1. Hierarquia: Confirmo a soberania do AGENT_CONTRACT_FRONTEND.txt sobre qualquer outra especificação.
   2. Stack Obrigatória: Validada (React, TS strict, Vite, TanStack Query, React Hook Form, Zod).
   3. Proibições: Reconheço a proibição absoluta de SSR, frameworks full-stack (Next.js/Remix), chamadas de
      API fora do client central e duplicação de lógica de negócio.


  Regras Anti-Alucinação
  Toda e qualquer afirmação técnica será baseada em Evidência Explícita [A]. Na ausência desta, a informação
  será obrigatoriamente classificada como PENDENTE, NÃO IMPLEMENTADO ou DÍVIDA TÉCNICA [B].


  Avaliação do Contrato e Lacunas
  O AGENT_CONTRACT_FRONTEND.txt é suficiente para governar a arquitetura e os padrões de desenvolvimento.
  Não foram encontrados conflitos entre os arquivos lidos.


  Nota de Integridade: O arquivo Especificação-de-Engenharia.txt mencionado na tarefa não foi localizado no
  sistema de arquivos. Por força do critério de veracidade [B], a leitura integral deste documento está
  marcada como PENDENTE. No entanto, as diretrizes contidas no contrato principal suprem a necessidade
  imediata para o início das fases subsequentes.

  ---


  SESSION_LOG_START | Versão: FASE-0.1 | Data: 05/02/2026
  ARQUIVOS CRIADOS/MODIFICADOS:
  NENHUM


  RESUMO TÉCNICO:
  Consolidação do papel do agente e validação das restrições arquiteturais.
  Confirmação da stack técnica (Vite/React/TS/TanStack Query/Zod).
  Reconhecimento da hierarquia de precedência contratual.
  Validação das regras anti-alucinação e protocolos de encerramento.


  DÍVIDA TÉCNICA / PENDÊNCIAS:
   - Leitura da Especificação-de-Engenharia.txt (Arquivo não localizado).
   - Início da FASE 1 (Bootstrap do Repositório) aguardando comando.


  COMANDO DE VALIDAÇÃO:
  N/A
  SESSION_LOG_END

  ------

✦ Em conformidade com as diretrizes da FASE 0.2, estabeleço as definições formais de escopo para o front-end
  do projeto Doligo, garantindo a integridade da arquitetura SPA (CSR) proposta.


  1. Natureza da Aplicação
  O front-end é um CONSUMIDOR PURO de API Go (Clean Architecture). Ele atua como uma interface de
  visualização e entrada de dados, sendo totalmente dependente da autoridade do backend para qualquer
  decisão lógica ou processamento de dados sensíveis.


  2. Responsabilidades do Front-end (O que PODE fazer)
   * Validação de Input (Zod): Garantir que os dados enviados à API atendam aos requisitos de formato e
     tipo, espelhando os contratos definidos nos DTOs do backend.
   * UX Baseada em Claims (RBAC): Adaptar a interface (exibir/ocultar botões ou menus) com base nas
     permissões contidas no JWT, sem que isso substitua a validação final de autorização no servidor.
   * Orquestração de Estado Server-Driven: Gerenciar o cache local, estados de carregamento e sincronização
     de dados via TanStack Query, sempre respeitando os gatilhos e invalidações vindos da API.


  3. Restrições e Proibições (O que NÃO PODE fazer)
   * Duplicar Regras de Negócio: Cálculos complexos, validações de integridade entre entidades ou lógicas de
     precificação e tributação devem residir exclusivamente no backend.
   * Inferir Comportamento da API: O front-end não deve assumir comportamentos implícitos. Toda resposta,
     erro ou transição de estado deve ser explicitamente tratada conforme o contrato da API.
   * Assumir Contratos Inexistentes: É proibido "inventar" campos ou estruturas de dados que não existam
     formalmente na documentação ou nos DTOs da API.


  Esta definição de escopo é fixada como verdade imutável e soberana para todas as execuções futuras deste
  agente no projeto.

  ---

  SESSION_LOG_START | Versão: FASE-0.2 | Data: 05/02/2026
  ARQUIVOS CRIADOS/MODIFICADOS:
  NENHUM


  RESUMO TÉCNICO:
  Definição formal do escopo do front-end como consumidor puro de API.
  Estabelecimento de limites entre validação de UI (Zod) e lógica de negócio (Backend).
  Consolidação das proibições relativas à duplicação de lógica e inferência de comportamento.


  DÍVIDA TÉCNICA / PENDÊNCIAS:
   - A leitura da Especificação-de-Engenharia.txt permanece pendente (arquivo não localizado).
   - Início da FASE 0.3 aguardando comando.


  COMANDO DE VALIDAÇÃO:
  N/A
  SESSION_LOG_END  

  ----

✦ Em conformidade com a FASE 0.3, finalizo a validação arquitetural do front-end Doligo, estabelecendo as
  diretrizes técnicas fundamentais e imutáveis.


  Decisão Arquitetural: SPA (CSR) Puro
  Conforme determinado no AGENT_CONTRACT_FRONTEND.txt e reforçado pelas especificações de fase, a
  arquitetura do projeto é SPA (Single Page Application) com renderização exclusiva no cliente (Client-Side
  Rendering - CSR), utilizando React e Vite.


  Justificativa Contratual
  A decisão baseia-se estritamente nas Restrições Absolutas de Execução do contrato do agente, que exige:
   * Build: Vite (SPA / CSR).
   * Natureza: Consumidor puro de API.
   * Separação: Nenhuma regra de negócio no cliente, delegando toda a lógica de estado inicial e
     processamento ao backend Go.


  Proibições e Padrões Não Aceitos
  Está terminantemente proibida a introdução de qualquer padrão que desvie do CSR puro, incluindo:
   * Frameworks Proibidos: Next.js, Remix, Nuxt, ou qualquer solução que suporte SSR (Server-Side Rendering)
     ou renderização híbrida.
   * Padrões Rejeitados: Geradores de sites estáticos (SSG) com reidratação complexa, ou qualquer forma de
     processamento de rota/página no servidor que não seja o serviço de arquivos estáticos.
   * Lógica Proibida: Execução de código de "pré-fetch" em servidor que duplique as chamadas que o cliente
     deve realizar via TanStack Query.


  Esta decisão é final e não negociável, servindo como base para todas as implementações de infraestrutura e
  rotas nas fases seguintes.

  ---

  SESSION_LOG_START | Versão: FASE-0.3 | Data: 05/02/2026
  ARQUIVOS CRIADOS/MODIFICADOS:
  NENHUM


  RESUMO TÉCNICO:
  Validação da arquitetura SPA (CSR) baseada em Vite e React.
  Declaração formal de proibição de SSR e frameworks full-stack.
  Alinhamento das decisões técnicas com as restrições contratuais imutáveis.


  DÍVIDA TÉCNICA / PENDÊNCIAS:
   - A leitura da Especificação-de-Engenharia.txt continua pendente (arquivo não localizado).
   - Início da FASE 0.4 aguardando comando.


  COMANDO DE VALIDAÇÃO:
  N/A
  SESSION_LOG_END

  ----

 Em conformidade com a FASE 0.4, estabeleço o Roadmap Oficial por Fases para o projeto Doligo, que servirá
  como o guia mestre de execução e controle de escopo.

  1. Roadmap Oficial (Sequência Obrigatória)


  ┌────┬───────────────────────┬─────────────────────────────────────────────┬─────────────────────────────┐
  │ Fa │ Objetivo              │ Pode Ser Feito                              │ NÃO Pode Ser Feito          │
  ├────┼───────────────────────┼─────────────────────────────────────────────┼─────────────────────────────┤
  │ 0  │ Alinhamento e Fund... │ Definição de escopo, contrato e arquitet... │ Código, repositório ou s... │
  │ 1  │ Bootstrap do Repos... │ Setup Vite/React/TS, estrutura de pastas... │ Telas, API client, auten... │
  │ 2  │ Camada de API e Co... │ Client HTTP, interceptors, DTOs e Zod sc... │ Queries de domínio, UI.     │
  │ 3  │ Estado, Sessão e S... │ TanStack Query, Auth guards, RBAC (UX), ... │ Domínios de negócio, CRUDs. │
  │ 4  │ Design System e In... │ Tokens, layout base, componentes shared,... │ Telas finais de domínio.    │
  │ 5  │ Auth e Shell          │ Login, fluxo de auth, navegação principa... │ Domínios ERP (Invoice, e... │
  │ 6  │ Domínios Core         │ Implementação incremental (Invoice, Stoc... │ Jobs assíncronos complexos. │
  │ 7  │ Jobs e PDFs           │ Polling de status e geração de arquivos ... │ Otimizações de performance. │
  │ 8  │ Performance e UX      │ Code splitting, lazy loading, virtualiza... │ Mudanças estruturais de ... │
  │ 9  │ Testes e Qualidade    │ Testes unitários, de componente e E2E.      │ Novas funcionalidades.      │
  │ 10 │ Hardening e Deploy    │ Build final, auditoria (FA-01 a FA-06), ... │ Alterações de código não... │
  └────┴───────────────────────┴─────────────────────────────────────────────┴─────────────────────────────┘



  2. Regras de Execução e Escopo
   * Proibição de Antecipação: O agente está terminantemente proibido de implementar ou preparar código de
     fases futuras antes da conclusão e validação da fase atual.
   * Vínculo Unívoco: Toda tarefa ou instrução recebida deve ser associada a uma única fase do roadmap. Caso
     uma solicitação misture fases, o agente deve segmentá-la e reportar o conflito.
   * Critério de Conclusão: Uma fase só é considerada concluída após a geração do SESSION_LOG correspondente
     e validação dos critérios de entrega.

  Este roadmap é agora a referência definitiva para o controle de progresso do projeto.

  ---


  SESSION_LOG_START | Versão: FASE-0.4 | Data: 05/02/2026
  ARQUIVOS CRIADOS/MODIFICADOS:
  NENHUM


  RESUMO TÉCNICO:
  Definição do roadmap oficial em 11 fases (0 a 10).
  Mapeamento de objetivos, permissões e restrições por fase.
  Estabelecimento da regra de não-antecipação de tarefas.


  DÍVIDA TÉCNICA / PENDÊNCIAS:
   - A leitura da Especificação-de-Engenharia.txt permanece pendente (arquivo não localizado).
   - Início da FASE 0.5 (Consolidação Final da Fundação) aguardando comando.


  COMANDO DE VALIDAÇÃO:
  N/A
  SESSION_LOG_END

  ----

✦ Em conformidade com a FASE 0.5, estabeleço a estratégia operacional para o uso do PROMPT.txt, garantindo
  que este atue como o mecanismo de controle ativo e vinculativo para todas as interações futuras.

  Estratégia de Controle Operacional (PROMPT.txt)


  Para garantir a aderência estrita ao contrato e evitar desvios de escopo ou alucinações, toda instrução de
  tarefa no PROMPT.txt deverá seguir a seguinte estrutura obrigatória:


   1. Declaração de Fase Ativa: Toda task deve iniciar informando explicitamente o número da FASE (ex:
      "EXECUTANDO FASE 1.0"). Execuções sem fase definida são consideradas inválidas.
   2. Escopo Negativo (Restrições): Além do que deve ser feito, o prompt deve listar explicitamente o que
      NÃO deve ser feito na tarefa atual (ex: "NÃO criar UI", "NÃO configurar API").
   3. Vínculo Contratual: Referência direta ao AGENT_CONTRACT_FRONTEND.txt como autoridade máxima de decisão
      técnica.
   4. Mecanismos Anti-Alucinação: O prompt deve reforçar a necessidade de classificação de lacunas como
      PENDENTE ou NÃO IMPLEMENTADO, impedindo a assunção de comportamentos implícitos.
   5. Bloqueio de Antecipação: Instrução explícita de que qualquer preparação para fases futuras contida na
      solicitação deve ser ignorada e registrada como pendência.


  Validação de Controle
  A estratégia aqui definida assegura que o PROMPT.txt não seja apenas um documento de referência, mas um
  framework de execução que:
   * Impede a "deriva de escopo" (scope creep).
   * Força a modularidade da implementação seguindo o roadmap da Fase 0.4.
   * Garante que o SESSION_LOG final de cada tarefa seja um reflexo fiel e auditável do progresso real.


  Esta estratégia conclui a Fase 0 (Alinhamento & Preparação), deixando o terreno pronto para o início do
  desenvolvimento técnico.

  ---


  SESSION_LOG_START | Versão: FASE-0.5 | Data: 05/02/2026
  ARQUIVOS CRIADOS/MODIFICADOS:
  NENHUM

  RESUMO TÉCNICO:
  Definição da estratégia de controle via PROMPT.txt.
  Estabelecimento da obrigatoriedade de declaração de fase e escopo negativo.
  Consolidação dos mecanismos de bloqueio de alucinação e antecipação de fases.


  DÍVIDA TÉCNICA / PENDÊNCIAS:
   - A leitura da Especificação-de-Engenharia.txt permanece pendente (arquivo não localizado).
   - Conclusão oficial da FASE 0.
   - Próximo passo: Iniciar FASE 1 (Bootstrap do Repositório).


  COMANDO DE VALIDAÇÃO:
  N/A
  SESSION_LOG_END      

  ✦ Após a localização e leitura integral do arquivo Especificação-de-Engenharia.txt, confirmo que o documento
  foi processado e incorporado ao contexto operacional.


  Validação da Especificação de Engenharia
  O arquivo ratifica e detalha os pontos já estabelecidos no contrato soberano, com adições importantes:
   1. Critérios de Aceite (FA-01 a FA-06): Definição clara de metas de qualidade (build sem erros TS, client
      HTTP centralizado, validação Zod, segurança de rotas, cancelamento de polling e performance de
      tabelas).
   2. Testes e Qualidade: Exigência de testes unitários para utils/validators e E2E para fluxos críticos
      (Login, Invoice, Stock).
   3. Observabilidade: Uso de Logger estruturado e propagação de Correlation ID da API.
   4. Decisão Arquitetural Final: Reafirmação do SPA (CSR) com React + Vite como a escolha estratégica para
      o produto Doligo.


  Status de Veracidade
  A pendência de leitura da especificação foi resolvida. Agora, todas as afirmações técnicas possuem
  Evidência Explícita [A] tanto no Contrato quanto na Especificação de Engenharia.

  ---

  SESSION_LOG_START | Versão: FASE-0.5 | Data: 05/02/2026
  ARQUIVOS CRIADOS/MODIFICADOS:
  NENHUM


  RESUMO TÉCNICO:
  Localização e leitura da Especificação-de-Engenharia.txt (anteriormente dada como não localizada).
  Sincronização integral entre o Contrato do Agente e a Especificação de Engenharia.
  Validação dos critérios de aceite (FA-01 a FA-06) e diretrizes de testes.

  DÍVIDA TÉCNICA / PENDÊNCIAS:
   - NENHUMA (Fase 0 de alinhamento concluída com sucesso).
   - Próximo passo: Iniciar FASE 1 (Bootstrap do Repositório).


  COMANDO DE VALIDAÇÃO:
  N/A
  SESSION_LOG_END